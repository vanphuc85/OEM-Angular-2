<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>

    <meta name="description" content="">
    <meta name="author" content="">

    <title>New Age - Start Bootstrap Theme</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
    <link href="./../../assets/css/new-age.css" rel="stylesheet">

</head>
<app-header-input [name]="'Create New Alert'" (messageEvent)="receiveMessage($event)"  [inputText]= "alert.alertName" ></app-header-input>
<app-alert-box  (exit)="confirm($event)" *ngIf = "isActivePopUp" [message] = "message" ></app-alert-box>
<body id="page-top">

    




    <section id="contact" class="contact bg-primary-loc size-increase-200">


        <div class="container-fluid ">
        <div class="sample ">

          <div class="col-md-6 col-md-offset-3 box loc ">
            <div>   
                <table class=" m-headerbot">
                    
                  <tr class="fborder changecolor"  style="background-color: white;" >
                      <td >
                          <div ><br></div>
                          <div  class="mea-text" ><br><br>
                                <form>
                                <input class="m-input" type="text" [(ngModel)]="alert.alertName" name="alertName" placeholder="Please Enter Alert Name:"><br>
                                </form>                            
                          </div>
                          <div class="s-text-a mea-text"><br><br></div>
                      </td>
                  

                  </tr>
                    
                </table>    


                <table>

                  <tr class="gborderNew"  *ngFor="let item of alert.alertConditions;let i = index;">
                    <td class="loc-w" style="width:15%" ><img [src]="alert.alertConditions[i].link" class="img-responsive small-l" alt="" ></td>
                    <td style="width:28%" >
                        <div>{{alert.dataName}}</div>
                    </td>
                    <td style="width:28%">
                        <div style="padding: 0 20px;">

                        <select #relationOp [(ngModel)]="alert.alertConditions[i].relationOp">
                                <option *ngFor="let option of options; let i = index"   [ngValue]="option.value" [selected]="option.value ==item.relationOp">
                                    {{option.name}}
                                </option>
                        </select>
    
                        
                        </div>                          
                          
                    </td>
                    <td style="width:29%">
                          <div  class="mv-text" >
                                <form action="">
                                <input class="mv-input" type="text"  [(ngModel)]="alert.alertConditions[i].measureValue"  name="measureValue" placeholder="00.00">
                                </form>                            
                          </div>                                               
                    </td>
                    <td>
                       {{unit}}                       
                    </td>
                  </tr>

                  <!-- <tr class="gborderNew" >
                  
                    <td class="loc-w" ><img src="./assets/image/a-alert-s.svg" class="img-responsive small-l" alt="" ></td>
                    <td>
                        <div>Active</div>
                    </td>
                    <td   >                      
                          
                    </td>
                    <td   >
                                            
                    </td>
                    <td>
                        <img *ngIf="alert.ignore == 0" (click)="changeStatus()"  src="./assets/image/toggle_on.jpg" class="img-responsive small-l" style="width: 50px" alt="">
                        <img *ngIf="alert.ignore == 1" (click)="changeStatus()" src="./assets/image/toggle_off.png" class="img-responsive small-l" style="width: 50px"  alt="">                
                    </td>
                  </tr> -->

                  <tr class="gborderNew cursor" (click)="goToSelectContact()" >
                    <td class="loc-w"   ><img src="./assets/image/a-contacts.svg" class="img-responsive small-l" alt="" ></td>
                    <td>
                        <div>Select Contacts</div>
                    </td>

                    <td  class="db-color"  colspan="2" >
                            <b>{{alert.getReceipient()== '' ? 'Add contacts' : alert.getReceipient()}}</b>                       
                    </td>
                    <td></td>
                  </tr>

                </table>
                <br>
                <br>
               
            </div>
          </div>
        </div>
        </div>


    </section>

    <footer>


        <div class="buttondiv">
            <table class="pzero" style="margin-left: 5%;width: 90%;">
            <tr>
      
            <td class="dbutton">
            <a  class="buttonnew"(click)= "cancel()">Cancel</a>
            </td>
            <td class="dbutton">
            <a  class="buttonnew"  (click)="saveAlert()">Save</a>
            </td>
      
            </tr>
            </table>
      
        </div>


    </footer>
    <!-- Theme JavaScript -->
    <script src="../../assets/js/new-age.js"></script> 
    
</body>

</html>
